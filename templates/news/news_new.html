{% extends "base.html" %}
{% import "components/card.html" as ui %}

{% block content %}
<div class="min-h-screen w-full bg-slate-100 flex flex-col items-center py-12 px-2 pb-40">
  {% call ui.page_card() %}

  <h1 class="mb-10 text-center text-3xl font-bold text-slate-800">
    Nuova news
  </h1>

  <form action="/news/new"
        method="post"
        enctype="multipart/form-data"
        class="mx-auto grid max-w-lg gap-6">
    <!-- Titolo -->
    <div class="grid gap-2">
      <label class="text-sm font-medium text-slate-700">Titolo</label>
      <input name="title" type="text" class="block w-full rounded-lg border border-slate-200 px-4 py-3 text-base focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition" required>
    </div>

    <!-- ░░ Destinatario ░░ -->
    <fieldset class="grid gap-4 border border-slate-300 rounded-lg p-4">
      <legend class="px-2 text-sm font-semibold text-slate-600">Destinatario</legend>
      <!-- Tipologia assunzione -->
      <div class="grid gap-2">
        <label class="text-sm font-medium text-slate-700">Tipologia assunzione</label>
        <select name="hire_type_id" class="block w-full rounded-lg border border-slate-200 px-4 py-3 text-base focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition">
          {% for t in hire_types %}
            <option value="{{ t.id }}">{{ t.label }}</option>
          {% endfor %}
        </select>
      </div>
      <!-- Filiale -->
      <div class="grid gap-2">
        <label class="text-sm font-medium text-slate-700">Filiale</label>
        <select name="branch" class="block w-full rounded-lg border border-slate-200 px-4 py-3 text-base focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition" required>
          <option value="*">Tutte</option>
          <option value="HQE">HQE</option>
          <option value="HQ ITALIA">HQ ITALIA</option>
          <option value="HQIA">HQIA</option>
        </select>
      </div>
    </fieldset>

    <!-- Evidenza in home (nuovo) -->
    <label class="inline-flex items-center gap-2 text-sm text-slate-700">
      <input type="checkbox" name="show_on_home" class="h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500">
      Metti in evidenza sulla home
    </label>

    <!-- Contenuto -->
    <div class="grid gap-2">
      <label class="text-sm font-medium text-slate-700">Contenuto</label>
      <textarea name="content" rows="6" required class="w-full rounded-lg border border-slate-200 px-4 py-3 text-base focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition"></textarea>
    </div>

    <div class="flex gap-4 justify-center pt-4">
      <a href="/news" 
         class="inline-flex items-center gap-1 rounded-lg bg-slate-100 px-6 py-2
                text-sm font-medium text-slate-700 shadow hover:bg-slate-200 transition">
        Annulla
      </a>
      <button type="submit"
              class="inline-flex items-center gap-1 rounded-lg bg-blue-600 px-6 py-2
                     text-sm font-medium text-white shadow hover:bg-blue-700 transition">
        Salva
      </button>
    </div>
  </form>
  <div class="pb-40"></div>
  {% endcall %}
</div>
{% endblock %}
