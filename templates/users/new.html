{% extends "base.html" %}

{% block content %}
<div class="min-h-screen w-full bg-slate-100 flex flex-col items-center py-12 px-2">
  <div class="w-full max-w-2xl bg-white rounded-2xl shadow-2xl p-8 pb-32">
    <h1 class="text-2xl font-semibold text-blue-700 mb-8 text-center">Nuovo utente</h1>
    {% if error %}
      <p class="mb-4 px-4 py-3 rounded-lg bg-red-100 text-red-800 border border-red-300 font-semibold text-center shadow">{{ error }}</p>
    {% endif %}
    <form method="post" class="grid grid-cols-1 gap-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Dati base utente -->
        <div class="grid gap-2">
          <label class="text-sm font-medium text-slate-700">Nome completo</label>
          <input name="name" required class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition" />
        </div>
        <div class="grid gap-2">
          <label class="text-sm font-medium text-slate-700">Eâ€‘mail</label>
          <input type="email" name="email" required class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition" />
        </div>
        <div class="grid gap-2">
          <label class="text-sm font-medium text-slate-700">Ruolo</label>
          <select name="role" required class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition">
            <option value="staff">Staff</option>
            <option value="admin">Admin</option>
          </select>
        </div>
        <div class="grid gap-2">
          <label class="text-sm font-medium text-slate-700">Password iniziale</label>
          <input type="password" name="password" required minlength="8"
                 class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition" />
        </div>
        <!-- Filiale -->
        <div class="grid gap-2">
          <label for="branch" class="text-sm font-medium text-slate-700">Filiale</label>
          <select id="branch" name="branch" required 
                  class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition">
            <option value="HQE">HQE</option>
            <option value="HQ ITALIA">HQ&nbsp;ITALIA</option>
            <option value="HQIA">HQIA</option>
          </select>
        </div>
        <!-- Tipologia Assunzione -->
        <div class="grid gap-2">
          <label for="employment_type" class="text-sm font-medium text-slate-700">Tipologia Assunzione</label>
          <select id="employment_type" name="employment_type" required 
                  class="w-[22ch] rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition">
            <option value="TD">Tempo Determinato</option>
            <option value="TI">Tempo Indeterminato</option>
            <option value="AP">Apprendistato</option>
            <option value="CO">Collaborazione</option>
          </select>
        </div>
        <!-- Business Unit -->
        <div class="grid gap-2">
          <label for="bu" class="text-sm font-medium text-slate-700">BU (Centro di costo)</label>
          <input id="bu" name="bu" type="text"
                 class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition">
        </div>
        <!-- Team -->
        <div class="grid gap-2">
          <label for="team" class="text-sm font-medium text-slate-700">Team</label>
          <input id="team" name="team" type="text"
                 class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition">
        </div>
        <!-- Data di nascita -->
        <div class="grid gap-2">
          <label for="birth_date" class="text-sm font-medium text-slate-700">Data di nascita</label>
          <input id="birth_date" name="birth_date" type="date"
                 class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition">
        </div>
        <!-- Sesso -->
        <div class="grid gap-2">
          <label for="sex" class="text-sm font-medium text-slate-700">Sesso</label>
          <select id="sex" name="sex"
                  class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition">
            <option value=""></option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
        </div>
        <!-- Cittadinanza -->
        <div class="md:col-span-2 grid gap-2">
          <label for="citizenship" class="text-sm font-medium text-slate-700">Cittadinanza</label>
          <select id="citizenship" name="citizenship" required
                  class="w-full rounded-lg border border-slate-300 px-4 py-2 text-base text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:ring-blue-500 transition">
            <option value="ITA">ITA</option>
            <option value="NON ITA">NON ITA</option>
          </select>
        </div>
      </div>
      <div class="text-right space-x-2">
        <a href="{{ url_for('users_page') }}" class="inline-flex items-center gap-1 rounded-lg bg-blue-100 px-4 py-2 text-sm font-medium text-blue-800 shadow hover:bg-blue-200 transition">Annulla</a>
        <button type="submit" class="inline-flex items-center gap-1 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700 transition">Crea utente</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
