<form hx-post="/links/{{ l._id }}/edit" hx-target="#link-{{ l._id }}" hx-swap="outerHTML" class="space-y-6 bg-white p-6 rounded-md shadow-lg shadow-black/5">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block text-sm font-medium text-gray-700">Titolo</label>
      <input type="text" name="title" value="{{ l.title }}" required
             class="mt-1 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-hq-purple focus:border-transparent">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">URL</label>
      <input type="url" name="url" value="{{ l.url }}" required
             class="mt-1 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-hq-purple focus:border-transparent">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Branch</label>
      <select name="branch" class="mt-1 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-hq-purple focus:border-transparent">
        <option value="*" {% if l.branch == "*" %}selected{% endif %}>*</option>
        <option value="HQE" {% if l.branch == "HQE" %}selected{% endif %}>HQE</option>
        <option value="HQ ITALIA" {% if l.branch == "HQ ITALIA" %}selected{% endif %}>HQ&nbsp;ITALIA</option>
        <option value="HQIA" {% if l.branch == "HQIA" %}selected{% endif %}>HQIA</option>
      </select>
    </div>

    <div class="hidden">
      <label class="block text-sm font-medium text-gray-700">Ruolo</label>
      <select name="role" class="mt-1 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-hq-purple focus:border-transparent">
        <option value="*"      {% if l.role == "*" %}selected{% endif %}>*</option>
        <option value="staff"  {% if l.role == "staff" %}selected{% endif %}>staff</option>
        <option value="admin"  {% if l.role == "admin" %}selected{% endif %}>admin</option>
      </select>
    </div>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700">Ordine</label>
    <input type="number" name="order" value="{{ l.order }}" required
           class="mt-1 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-hq-purple focus:border-transparent">
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700">Tags</label>
    <input type="text" name="tags" 
           value="{{ l.tags | join(', ') if l.tags is iterable else '' }}" 
           placeholder="tag1, tag2, tag3"
           class="mt-1 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-hq-purple focus:border-transparent">
  </div>

  <div>
    <label class="inline-flex items-center">
      <input type="checkbox" name="show_on_home" value="1" {% if l.show_on_home %}checked{% endif %}>
      <span class="ml-2">Metti in evidenza sulla home</span>
    </label>
  </div>

  <div class="flex justify-end space-x-4">
    <button type="button" onclick="document.getElementById('modal').classList.add('hidden')"
            class="inline-flex items-center px-3 py-1 text-sm font-medium bg-gray-100 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-200 transition">
      Annulla
    </button>
    <button type="submit" class="inline-flex items-center px-3 py-1 text-sm font-medium bg-blue-700 text-white rounded-md hover:bg-blue-800 transition">
      Salva
    </button>
  </div>
</form>
<div class="pb-40"></div>
